Manifest files list the files or scripts you would like to serve out of your project. Each line consists of an endpoint from which you will serve something.

A line takes the following form:

PATTERN PATH TYPE

PATTERN may be no more than 500 characters.
PATH may be no more than 500 characters.
TYPE must be one of MANIFEST, DYNAMIC, and STATIC.

Pattern is a standard regular expression. Everything that matches the regular expression PATTERN will be directed to PATH. PATH may include backreferences to PATTERN using $n$ for the nth backreference (you may have no more than 999 backreferences). For instance,

\/myproject\/file\/(.*) /home/myprojectdir/static_folder/$1$ STATIC

Will send the request to http://ecc.chickenkiller.com/myproject/file/blah.txt to /home/myprojectdir/static_folder/blah.txt, and serve it as a static file.

If more than one regular expression matches a path, the one earlier in the manifest file will take precedence.

DYNAMIC scripts will accept the following to standard input:

Header-One: header_one_value
Header-Two: header_two_value
Header-Three: header_three_value

<POST data, if existent>

With all the request headers put before two line breaks, then the full POST data in plaintext, if it exists. They must similarly output any request headers, then two line breaks, then the response data.

Manifest files may also have a cron section. The line

--CRON--

Separates the cron section from the rest of the manifest file. After this line, you may list as many cron jobs as you like, in the form

FREQUENCY JOB

FREQUENCY must be an integer
JOB may be anything.

The cron job will execute JOB every FREQUENCY hours. For instance, the line

24 garbage-cleanup-script /home/myprojectdir -full -strict -R

Will run the command

garbage-cleanup-script /home/myprojectdir -full -script -R

Every day. A full manifest file might look like the following

\/myproject\/file\/(.*) /home/myprojectdir/static_folder/$1$ STATIC
\/myproject\/(index.html)? /home/myprojectdir/index.html STATIC
\/myproject\/make_new_post /home/myprojectdir/new_post.py DYNAMIC
--CRON--
24 garbage-cleanup-script /home/myprojectdir -full -strict -R
24 /home/myprojectdir/dailypost.py
1 /home/myprojectdir/checkspam.py -f bayesian_file
1 /home/myprojectdir/autogitpull
